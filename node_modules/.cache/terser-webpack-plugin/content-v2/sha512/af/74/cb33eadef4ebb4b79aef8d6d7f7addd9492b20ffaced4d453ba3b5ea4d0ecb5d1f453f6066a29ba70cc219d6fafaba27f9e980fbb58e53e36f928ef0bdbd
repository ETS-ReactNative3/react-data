{"code":"module.exports=function(e){var r={};function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:n})},t.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},t.t=function(e,r){if(1&r&&(e=t(e)),8&r)return e;if(4&r&&\"object\"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:e}),2&r&&\"string\"!=typeof e)for(var o in e)t.d(n,o,function(r){return e[r]}.bind(null,o));return n},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,\"a\",r),r},t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},t.p=\"\",t(t.s=1)}([function(e,r){e.exports=require(\"react\")},function(e,r,t){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0});t(2);var n,o=t(0),a=(n=o)&&n.__esModule?n:{default:n};r.default=function(e){var r=e.width,t=e.height,n=e.bgColor,o=e.content;return a.default.createElement(\"div\",{style:{width:r||200,height:t||200,backgroundColor:n||\"green\",color:color||\"black\"}},o)}},function(e,r,t){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0}),r.withStore=r.StoreContext=r.Store=void 0;var n=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},o=function(){function e(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(r,t,n){return t&&e(r.prototype,t),n&&e(r,n),r}}(),a=t(0),u=f(a),i=f(t(!function(){var e=new Error(\"Cannot find module 'helpers/adapter-for'\");throw e.code=\"MODULE_NOT_FOUND\",e}())),s=f(t(!function(){var e=new Error(\"Cannot find module 'helpers/serializer-for'\");throw e.code=\"MODULE_NOT_FOUND\",e}())),c=f(t(!function(){var e=new Error(\"Cannot find module 'helpers/model-for'\");throw e.code=\"MODULE_NOT_FOUND\",e}())),l=f(t(!function(){var e=new Error(\"Cannot find module 'helpers/json-api-errors'\");throw e.code=\"MODULE_NOT_FOUND\",e}())),d=t(!function(){var e=new Error(\"Cannot find module 'utils/helpers'\");throw e.code=\"MODULE_NOT_FOUND\",e}());function f(e){return e&&e.__esModule?e:{default:e}}function p(e){return function(){var r=e.apply(this,arguments);return new Promise((function(e,t){return function n(o,a){try{var u=r[o](a),i=u.value}catch(e){return void t(e)}if(!u.done)return Promise.resolve(i).then((function(e){n(\"next\",e)}),(function(e){n(\"throw\",e)}));e(i)}(\"next\")}))}}function h(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function v(e,r){if(!(e instanceof r))throw new TypeError(\"Cannot call a class as a function\")}function y(e,r){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!r||\"object\"!=typeof r&&\"function\"!=typeof r?e:r}function m(e,r){if(\"function\"!=typeof r&&null!==r)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof r);e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(e,r):e.__proto__=r)}var b=r.Store=u.default.createContext(),R=function(e){function r(e){v(this,r);var t=y(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e));return t.state={adapterFor:t.adapterFor.bind(t),modelFor:t.modelFor.bind(t),serializerFor:t.serializerFor.bind(t),createRecord:t.createRecord.bind(t),pushAll:t.pushAll.bind(t),pushRecord:t.pushRecord.bind(t),peekAll:t.peekAll.bind(t),peekRecord:t.peekRecord.bind(t),peekOrCreateRecord:t.peekOrCreateRecord.bind(t),updateRecord:t.updateRecord.bind(t),updateStore:t.updateStore.bind(t),findAll:t.findAll.bind(t),findRecord:t.findRecord.bind(t),query:t.query.bind(t),queryRecord:t.queryRecord.bind(t),apiRequest:t.apiRequest.bind(t),removeAll:t.removeAll.bind(t),removeRecord:t.removeRecord.bind(t)},t}var t,n,a,f,R;return m(r,e),o(r,[{key:\"adapterFor\",value:function(e){return(0,i.default)(e,this.state)}},{key:\"modelFor\",value:function(e,r){return(0,c.default)(e,this.state,r)}},{key:\"serializerFor\",value:function(e,r){return(0,s.default)(e,this.state,r)}},{key:\"peekAll\",value:function(e){return this.state[e]||[]}},{key:\"peekRecord\",value:function(e,r){return(this.state[e]||[]).find((function(e){return e.id==r}))}},{key:\"peekOrCreateRecord\",value:function(e,r){this.state[e];var t=this.peekRecord(e,r.id);return t?this.updateRecord(e,t,r):this.createRecord(e,r)}},{key:\"createRecord\",value:function(e,r){var t=(0,c.default)(e,this.state,r);return this.pushRecord(e,t)}},{key:\"updateRecord\",value:function(e,r,t){this.state;return this.removeRecord(e,r),this.createRecord(e,t)}},{key:\"updateStore\",value:function(e){this.state;var r=this.state[e]||[];return this.setState(h({},e,r)),(0,d.logger)(\"Store: \",this.state),!0}},{key:\"pushAll\",value:function(e,r){var t=this;this.state,this.state[e];return r.map((function(r){var n=t.peekRecord(e,r.id);return n?t.updateRecord(e,n,r):t.createRecord(e,r)}))}},{key:\"pushRecord\",value:function(e,r){this.state;var t=this.state[e]||[];return t.push(r),this.setState(h({},e,t)),r}},{key:\"findAll\",value:(R=p(regeneratorRuntime.mark((function e(r,t){var n,o,a,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n=this.state[r]||[],(0,d.isEmpty)(n)){e.next=4;break}return e.abrupt(\"return\",n);case 4:return e.next=6,this.adapterFor(r).findAll(r,t);case 6:return o=e.sent,a=this.serializerFor(r).normalizeArray(o.data,o.included,o.meta),(0,d.logger)(\"Server Response: \",a),(u=this.pushAll(r,a.records)).meta=a.meta,(0,d.logger)(\"Store: \",this.state),e.abrupt(\"return\",u);case 15:throw e.prev=15,e.t0=e.catch(0),l.default.formatErrors(e.t0);case 18:case\"end\":return e.stop()}}),e,this,[[0,15]])}))),function(e,r){return R.apply(this,arguments)})},{key:\"findRecord\",value:(f=p(regeneratorRuntime.mark((function e(r,t,n){var o,a,u,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(o=this.peekRecord(r,t))){e.next=4;break}return e.abrupt(\"return\",o);case 4:return e.next=6,this.adapterFor(r).findRecord(r,t,n);case 6:return a=e.sent,u=this.serializerFor(r).normalize(a.data,a.included),(0,d.logger)(\"Server Response: \",u),i=this.createRecord(r,u),(0,d.logger)(\"Store: \",this.state),e.abrupt(\"return\",i);case 14:throw e.prev=14,e.t0=e.catch(0),l.default.formatErrors(e.t0);case 17:case\"end\":return e.stop()}}),e,this,[[0,14]])}))),function(e,r,t){return f.apply(this,arguments)})},{key:\"query\",value:(a=p(regeneratorRuntime.mark((function e(r,t){var n,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.adapterFor(r).query(r,t);case 3:return n=e.sent,o=this.serializerFor(r).normalizeArray(n.data,n.included,n.meta),(0,d.logger)(\"Server Response: \",o),(a=this.pushAll(r,o.records)).meta=o.meta,(0,d.logger)(\"Store: \",this.state),e.abrupt(\"return\",a);case 12:throw e.prev=12,e.t0=e.catch(0),l.default.formatErrors(e.t0);case 15:case\"end\":return e.stop()}}),e,this,[[0,12]])}))),function(e,r){return a.apply(this,arguments)})},{key:\"queryRecord\",value:(n=p(regeneratorRuntime.mark((function e(r,t,n){var o,a,u,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.adapterFor(r).queryRecord(r,t,n);case 3:return o=e.sent,a=this.serializerFor(r).normalize(o.data,o.included),(0,d.logger)(\"Server Response: \",a),u=this.peekRecord(r,a.id),i=u?this.updateRecord(r,u,a):this.createRecord(r,a),(0,d.logger)(\"Store: \",this.state),e.abrupt(\"return\",i);case 12:throw e.prev=12,e.t0=e.catch(0),l.default.formatErrors(e.t0);case 15:case\"end\":return e.stop()}}),e,this,[[0,12]])}))),function(e,r,t){return n.apply(this,arguments)})},{key:\"apiRequest\",value:(t=p(regeneratorRuntime.mark((function e(r,t,n){var o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.adapterFor(r).queryRecord(r,t,n);case 3:return o=e.sent,a=this.serializerFor(r).normalize(o.data,o.included),(0,d.logger)(\"Server Response: \",a),e.abrupt(\"return\",a);case 9:throw e.prev=9,e.t0=e.catch(0),e.t0;case 12:case\"end\":return e.stop()}}),e,this,[[0,9]])}))),function(e,r,n){return t.apply(this,arguments)})},{key:\"removeAll\",value:function(e,r){var t=this.state;return t[e]=[],this.setState(t),(0,d.logger)(\"Store: \",t),null}},{key:\"removeRecord\",value:function(e,r){var t=this.state,n=t[e]||[],o=n.find((function(e){return e.id==r.id}));return n=(0,d.removeObject)(n,o),this.setState(t),(0,d.logger)(\"Store: \",this.state),null}},{key:\"render\",value:function(){return u.default.createElement(b.Provider,{value:this.state},this.props.children)}}]),r}(a.Component);r.StoreContext=R,r.withStore=function(e){return function(r){function t(){return v(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return m(t,r),o(t,[{key:\"render\",value:function(){var r=this;return u.default.createElement(b.Consumer,null,(function(t){return u.default.createElement(e,n({store:t},r.props))}))}}]),t}(a.Component)}}]);","extractedComments":[]}